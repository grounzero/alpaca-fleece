# Pre-commit hooks for code quality enforcement
# Install: pre-commit install
# Run: pre-commit run --all-files

repos:
  # Ruff - Fast Python linter
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.2.0
    hooks:
      - id: ruff
        args: [--fix]

  # Black - Code formatter
  - repo: https://github.com/psf/black
    rev: 26.1.0
    hooks:
      - id: black

  # isort - Import sorting
  - repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
      - id: isort

  # Local hooks: run slow or environment-dependent checks in the developer environment
  - repo: local
    hooks:
      - id: mypy
        name: mypy (static type check)
        entry: bash -lc "PYTHONPATH=. python -m mypy src --strict"
        language: system
        pass_filenames: false
        stages: [pre-commit]

      - id: run-pytest
        name: pytest (run full test suite)
        entry: bash -lc "PYTHONPATH=. pytest -q"
        language: system
        pass_filenames: false
        stages: [pre-push]

